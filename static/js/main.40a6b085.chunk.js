(this["webpackJsonppoly-remake"]=this["webpackJsonppoly-remake"]||[]).push([[0],{19:function(e,t,i){e.exports=i(26)},24:function(e,t,i){},25:function(e,t,i){},26:function(e,t,i){"use strict";i.r(t);var o=i(3),s=i.n(o),n=i(14),r=i.n(n),c=i(12),a=i(2),h=i(0),d=i(5),l=i(6),u=i(16),p=(new h.E,function(e,t){for(var i=0;i<e;i++)t(i)}),v=h.n;function f(e,t){return Math.random()*(t-e)+e}var m=function(){return new h.E(f(-1,1),f(-1,1),f(-1,1)).normalize()},b=function(e){return f(0,1)<e},w=function(){return new h.E(5e3,5e3,5e3)},j=function(e){return void 0===e||null===e},O=function(e,t){if(j(e))throw new g(t);return e},g=function(e){Object(d.a)(i,e);var t=Object(l.a)(i);function i(e){return Object(a.a)(this,i),t.call(this,null!==e&&void 0!==e?e:"Unexpected nil value!")}return i}(Object(u.a)(Error)),y=function(){},k=function(e){return e.values().next().value},S=function e(){var t=this;Object(a.a)(this,e),this.mesh=void 0,this.createStarsGeometry=function(){var e=new h.k;return p(1e3,(function(t){var i=new h.E(v.randFloat(-1,1),v.randFloat(-1,1),v.randFloat(-1,1)),o=v.randFloat(100,500);i.multiplyScalar(o),e.vertices.push(i)})),e},this.mesh=new h.l,[new h.u({color:5592405,size:2,sizeAttenuation:!1}),new h.u({color:5592405,size:1,sizeAttenuation:!1}),new h.u({color:3355443,size:2,sizeAttenuation:!1}),new h.u({color:3815994,size:1,sizeAttenuation:!1}),new h.u({color:1710618,size:2,sizeAttenuation:!1}),new h.u({color:1710618,size:1,sizeAttenuation:!1})].forEach((function(e){var i=t.createStarsGeometry(),o=new h.t(i,e);o.matrixAutoUpdate=!1,o.updateMatrix(),t.mesh.add(o)}))},E=function e(t,i){var o=this;Object(a.a)(this,e),this.followedObject=t,this.shape=void 0,this.hitboxDebug=void 0,this.debug=function(e){var t=new h.z(o.shape.radius,8,6),i=new h.p({color:3296424,wireframe:!0});o.hitboxDebug=new h.o(t,i),e.add(o.hitboxDebug),o.update()},this.update=function(){var e=o.followedObject.position.clone();o.shape.center.copy(e),j(o.hitboxDebug)||o.hitboxDebug.position.copy(e)},this.intersects=function(e){return o.shape.intersectsSphere(e.shape)};var s=i.clone();s.computeBoundingSphere(),this.shape=O(s.boundingSphere),this.hitboxDebug=null,this.update()},x=function e(){Object(a.a)(this,e),this.shape=new h.y(w(),0),this.intersects=function(e){return!1}};function G(e,t,i,o,s){return h.n.mapLinear(e,t,i,o,s)}function z(e){return function(e,t,i){return e<t?t:e>i?i:e}(e,0,1)}var D,M=function e(t){var i=this;Object(a.a)(this,e),this.clock=t,this.mesh=void 0,this.hitbox=void 0,this.update=function(){var e=i.clock.getElapsed(),t=G(Math.sin(10*e),-1,1,.99,1.01);i.mesh.scale.set(t,t,t)},this.mesh=new h.l;var o=new h.z(5,16,12),s=new h.p({color:16395051,wireframe:!0}),n=new h.o(o,s);this.mesh.add(n),this.hitbox=new E(this.mesh,o)},A=i(1);!function(e){e.up="up",e.down="down",e.left="left",e.right="right",e.forwards="forwards",e.backwards="backwards",e.rollLeft="rollLeft",e.rollRight="rollRight",e.shoot="shoot"}(D||(D={}));var L=function(){var e;return e={},Object(A.a)(e,D.up,0),Object(A.a)(e,D.down,0),Object(A.a)(e,D.left,0),Object(A.a)(e,D.right,0),Object(A.a)(e,D.forwards,0),Object(A.a)(e,D.backwards,0),Object(A.a)(e,D.rollLeft,0),Object(A.a)(e,D.rollRight,0),Object(A.a)(e,D.shoot,0),e},R=function e(){var t=this;Object(a.a)(this,e),this.moveState=void 0,this.keyMapping=void 0,this.bindKey=function(e,i){t.keyMapping.set(e,i),t.moveState=L()},this.attachListeners=function(){window.addEventListener("keydown",t.keyDownHandler),window.addEventListener("keyup",t.keyUpHandler)},this.dispose=function(){window.addEventListener("keydown",t.keyDownHandler),window.addEventListener("keyup",t.keyUpHandler)},this.keyDownHandler=function(e){var i=t.keyMapping.get(e.code);j(i)||(t.moveState[i]=1)},this.keyUpHandler=function(e){var i=t.keyMapping.get(e.code);j(i)||(t.moveState[i]=0)},this.moveState=L(),this.keyMapping=function(){var e=new Map;return e.set("KeyW",D.up),e.set("KeyS",D.down),e.set("KeyA",D.left),e.set("KeyD",D.right),e.set("KeyI",D.forwards),e.set("KeyK",D.backwards),e.set("KeyJ",D.rollLeft),e.set("KeyL",D.rollRight),e.set("Space",D.shoot),e}()},H=function e(){var t=this;Object(a.a)(this,e),this.clock=void 0,this.delta=void 0,this.elapsed=void 0,this.getDelta=function(){return t.delta},this.getElapsed=function(){return t.elapsed},this.tick=function(){t.delta=t.clock.getDelta(),t.elapsed=t.clock.getElapsedTime()},this.clock=new h.e,this.delta=0,this.elapsed=0},I=function e(t,i,o,s){var n=this;Object(a.a)(this,e),this.controls=t,this.object=i,this.shots=o,this.clock=s,this.moveState=void 0,this.shotDelta=void 0,this.orbitSpeed=void 0,this.rollSpeed=void 0,this.forwardsAndBackwardsSpeed=void 0,this.inertiaFactor=void 0,this.shotRecoveryTime=void 0,this.update=function(){n.moveState=function(e,t,i){var o;return o={},Object(A.a)(o,D.up,v.lerp(e[D.up],t[D.up],i)),Object(A.a)(o,D.down,v.lerp(e[D.down],t[D.down],i)),Object(A.a)(o,D.left,v.lerp(e[D.left],t[D.left],i)),Object(A.a)(o,D.right,v.lerp(e[D.right],t[D.right],i)),Object(A.a)(o,D.forwards,v.lerp(e[D.forwards],t[D.forwards],i)),Object(A.a)(o,D.backwards,v.lerp(e[D.backwards],t[D.backwards],i)),Object(A.a)(o,D.rollLeft,v.lerp(e[D.rollLeft],t[D.rollLeft],i)),Object(A.a)(o,D.rollRight,v.lerp(e[D.rollRight],t[D.rollRight],i)),Object(A.a)(o,D.shoot,t[D.shoot]),o}(n.moveState,n.controls.moveState,n.inertiaFactor),n.updateDepth(),n.updateOrbit(),n.updateShots()},this.updateDepth=function(){var e=n.moveState[D.backwards]-n.moveState[D.forwards];if(Math.abs(e)>1e-5){var t=e*n.forwardsAndBackwardsSpeed,i=n.object.position.length();i+t<15?i=15:i+t>50?i=50:i+=t,n.object.position.setLength(i)}},this.updateOrbit=function(){var e=new h.E,t=new h.E,i=new h.E;n.object.matrix.extractBasis(e,t,i);var o=n.moveState[D.up]-n.moveState[D.down],s=n.moveState[D.right]-n.moveState[D.left],r=e.clone();r.multiplyScalar(o);var c=t.clone();c.multiplyScalar(s);var a=(new h.E).addVectors(r,c).clampLength(0,1),d=a.length();d>1e-5&&(a.normalize(),n.object.position.applyAxisAngle(a,d*n.orbitSpeed));var l=n.moveState[D.rollRight]-n.moveState[D.rollLeft];t.applyAxisAngle(i,l*n.rollSpeed),n.object.up.copy(t),n.object.lookAt(0,0,0)},this.updateShots=function(){n.shotDelta+=n.clock.getDelta(),n.shotDelta>n.shotRecoveryTime&&1===n.moveState[D.shoot]&&(n.shotDelta=0,n.shots.spawn(n.object.position))},this.moveState=L(),this.shotDelta=0,this.orbitSpeed=.05,this.rollSpeed=.05,this.forwardsAndBackwardsSpeed=.5,this.inertiaFactor=.1,this.shotRecoveryTime=.15,this.update()},F=function e(){var t=this;Object(a.a)(this,e),this.mesh=void 0,this.hitbox=void 0,this.update=function(){t.hitbox.update()},this.onCollide=function(e){console.log("OH SHIT!")},this.createGeometry=function(){var e=new h.d,t=[0,0,1],i=[0,.25,0],o=[-.5,-.25,0],s=[.5,-.25,0],n=new Float32Array([].concat(t,i,o,t,i,s,t,o,s,i,o,s));return e.setAttribute("position",new h.c(n,3)),e};var i=this.createGeometry(),o=new h.p({color:16448250,wireframe:!0});this.mesh=new h.o(i,o),this.mesh.position.set(0,0,50),this.hitbox=new E(this.mesh,i)},T=function(e){Object(d.a)(i,e);var t=Object(l.a)(i);function i(e){var o;return Object(a.a)(this,i),(o=t.call(this,75,window.innerWidth/window.innerHeight,.1,1e3)).followedObject=e,o.distance=void 0,o.inertiaFactor=void 0,o.update=function(){var e=o.followedObject.position.clone();e.add(e.clone().normalize().multiplyScalar(o.distance));var t=(new h.E).lerpVectors(o.position,e,o.inertiaFactor);o.position.copy(t),o.up.copy(o.followedObject.up),o.lookAt(0,0,0)},o.distance=2,o.inertiaFactor=.8,o.update(),o}return i}(h.r),C=i(15),K=i(18),P=i(17),V=1.01,B=1.1,W=0,U=0,J=function e(t,i){var o=this;Object(a.a)(this,e),this.renderer=void 0,this.composer=void 0,this.getDomElement=function(){return o.renderer.domElement},this.resize=function(){o.renderer.setSize(window.innerWidth,window.innerHeight),o.composer.setSize(window.innerWidth,window.innerHeight)},this.render=function(){o.composer.render()},this.renderer=new h.G,this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.toneMappingExposure=Math.pow(V,4),this.renderer.outputEncoding=h.H;var s=new C.a(t,i),n=new K.a(new h.D(window.innerWidth,window.innerHeight),B,U,W);this.composer=new P.a(this.renderer),this.composer.renderToScreen=!1,this.composer.addPass(s),this.composer.addPass(n),this.composer.renderToScreen=!0},N=function e(){var t=this;Object(a.a)(this,e),this.scene=void 0,this.add=function(){var e;return(e=t.scene).add.apply(e,arguments)},this.remove=function(){var e;return(e=t.scene).remove.apply(e,arguments)},this.dispose=function(){t.scene.dispose()},this.scene=new h.w,this.scene.fog=new h.j(0,25e-6);var i=new h.b(16777215);this.scene.add(i)},X=function e(t,i,o,s){var n=this;Object(a.a)(this,e),this.clock=i,this.explosions=o,this.dropObject=s,this.mesh=void 0,this.hitbox=void 0,this.normal=void 0,this.angularVelocity=void 0,this.radialVelocity=void 0,this.epoch=void 0,this.spawn=function(e,t){n.mesh.position.copy(e),n.normal=t,n.epoch=n.clock.getElapsed()},this.onCollide=function(e){n.drop()},this.update=function(){var e=n.clock.getDelta(),t=function(e){var t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1}(z(G(n.clock.getElapsed()-n.epoch,0,1,0,1)));n.mesh.scale.set(t,t,t);var i=n.angularVelocity*e;n.mesh.position.applyAxisAngle(n.normal,i);var o=n.mesh.position.length(),s=n.radialVelocity*e;n.mesh.position.setLength(o+s),n.hitbox.update(),n.mesh.position.length()>50&&n.drop()},this.drop=function(){n.explosions.spawn(n.mesh.position.clone()),n.dropObject(n)},this.mesh=t.buildMesh(),this.hitbox=new E(this.mesh,t.getHitboxGeometry()),this.normal=new h.E(0,1,0),this.angularVelocity=1,this.radialVelocity=1,this.epoch=0};var Y,q=function e(){var t=this;Object(a.a)(this,e),this.mesh=void 0,this.hitboxGeometry=void 0,this.buildMesh=function(){return t.mesh.clone()},this.getHitboxGeometry=function(){return t.hitboxGeometry.clone()},this.hitboxGeometry=new h.i(1.5);var i=new h.p({color:2882091,wireframe:!0});this.mesh=new h.o(this.hitboxGeometry,i)};!function(e){e[e.asteroids=0]="asteroids",e[e.ship=1]="ship",e[e.shots=2]="shots",e[e.missiles=3]="missiles",e[e.center=4]="center"}(Y||(Y={}));var Q=function e(){var t,i=this;Object(a.a)(this,e),this.rules=void 0,this.groups=void 0,this.addRule=function(e,t){i.rules.add([e,t])},this.addObjectToGroup=function(e,t){i.groups[t].add(e)},this.removeObjectFromGroup=function(e,t){i.groups[t].delete(e)},this.update=function(){i.rules.forEach((function(e){var t=Object(c.a)(e,2),o=t[0],s=t[1];i.groups[o].forEach((function(e){i.groups[s].forEach((function(t){var i,o;Z(e,t)&&(null===(i=e.onCollide)||void 0===i||i.call(e,t),null===(o=t.onCollide)||void 0===o||o.call(t,e))}))}))}))},this.rules=new Set,this.groups=(t={},Object(A.a)(t,Y.asteroids,new Set),Object(A.a)(t,Y.ship,new Set),Object(A.a)(t,Y.shots,new Set),Object(A.a)(t,Y.missiles,new Set),Object(A.a)(t,Y.center,new Set),t)},Z=function(e,t){return e.hitbox.intersects(t.hitbox)},$=function e(t,i,o,s){var n=this;Object(a.a)(this,e),this.scene=t,this.collider=i,this.clock=o,this.explosions=s,this.idleObjects=void 0,this.liveObjects=void 0,this.intervalId=void 0,this.start=function(){n.intervalId=setInterval(n.spawnRandom,3e3)},this.spawn=function(e,t){var i=O(k(n.idleObjects));n.idleObjects.delete(i),n.liveObjects.add(i),i.spawn(e,t),n.collider.addObjectToGroup(i,Y.asteroids)},this.drop=function(e){e.mesh.position.copy(w()),n.liveObjects.delete(e),n.idleObjects.add(e),n.collider.removeObjectFromGroup(e,Y.asteroids)},this.update=function(){n.liveObjects.forEach((function(e){return e.update()}))},this.dispose=function(){n.liveObjects.forEach((function(e){return n.scene.remove(e.mesh)})),n.idleObjects.forEach((function(e){return n.scene.remove(e.mesh)})),null!==n.intervalId&&clearTimeout(n.intervalId)},this.spawnRandom=function(){var e=m(),t=function(e){var t=new h.E(1,0,0),i=[new h.E(0,1,0),new h.E(0,0,1)].reduce((function(t,i){return e.dot(t)>e.dot(i)?i:t}),t);return b(.5)&&i.negate(),(new h.E).crossVectors(e,i)}(e).setLength(5);n.spawn(t,e)},this.idleObjects=new Set,this.liveObjects=new Set;var r=new q;p(50,(function(e){var t=new X(r,n.clock,n.explosions,n.drop);t.mesh.position.copy(w()),n.idleObjects.add(t)})),this.idleObjects.forEach((function(e){return n.scene.add(e.mesh)})),this.intervalId=null},_=function e(t,i,o,s,n){var r=this;Object(a.a)(this,e),this.object=t,this.clock=i,this.explosions=o,this.dropObject=n,this.mesh=void 0,this.hitbox=void 0,this.direction=void 0,this.angSpeed=void 0,this.speed=void 0,this.epoch=void 0,this.spawn=function(e,t){r.epoch=r.clock.getElapsed(),r.mesh.position.copy(e),r.direction.copy(t),r.direction.normalize(),r.align()},this.update=function(){r.updateRotation(),r.updatePosition(),r.updateFlames(),r.hitbox.update(),r.clock.getElapsed()-r.epoch>7&&r.drop()},this.onCollide=function(e){r.drop()},this.updateRotation=function(){var e=r.clock.getDelta(),t=r.object.position.clone();t.sub(r.mesh.position);var i=r.direction.angleTo(t),o=v.clamp(i,-r.angSpeed*e,r.angSpeed*e),s=(new h.E).crossVectors(t,r.direction);s.normalize(),r.direction.applyAxisAngle(s,-o),r.align()},this.updatePosition=function(){var e=r.clock.getDelta(),t=r.direction.clone();t.multiplyScalar(r.speed*e),r.mesh.position.add(t)},this.updateFlames=function(){var e=r.clock.getDelta(),t=r.clock.getElapsed();r.mesh.children[0].scale.y+=.05*Math.sin(10*t),r.mesh.children[0].rotateY(10*e),r.mesh.children[1].scale.y-=.05*Math.cos(10*t),r.mesh.children[1].rotateY(10*e)},this.align=function(){var e=r.mesh.position.clone();e.add(r.direction),r.mesh.lookAt(e),r.mesh.rotateOnAxis(new h.E(1,0,0),.5*Math.PI)},this.drop=function(){r.explosions.spawn(r.mesh.position.clone()),r.dropObject(r)},this.angSpeed=3,this.speed=40,this.mesh=s.buildMesh(),this.direction=m(),this.hitbox=new E(this.mesh,s.getHitboxGeometry()),this.epoch=0},ee=function e(){var t=this;Object(a.a)(this,e),this.mesh=void 0,this.hitboxGeometry=void 0,this.buildMesh=function(){return t.mesh.clone()},this.getHitboxGeometry=function(){return t.hitboxGeometry.clone()},this.hitboxGeometry=new h.h(.2,.4,1,6,1);var i=new h.p({wireframe:!0,color:16777215}),o=new h.g(.3,1,6),s=new h.p({wireframe:!0,color:15658100}),n=new h.p({wireframe:!0,color:15618359}),r=new h.o(o,s),c=new h.o(o,n);r.position.y-=1,c.position.y-=1,r.rotateX(Math.PI),c.rotateX(Math.PI),this.mesh=new h.o(this.hitboxGeometry,i),this.mesh.add(r),this.mesh.add(c)},te=function e(t,i,o,s,n){var r=this;Object(a.a)(this,e),this.scene=t,this.clock=o,this.collider=s,this.idleObjects=void 0,this.liveObjects=void 0,this.intervalId=void 0,this.start=function(){var e=new h.E(0,0,0);r.spawn(e,m()),r.intervalId=setInterval((function(){return r.spawn(e,m())}),1e4)},this.spawn=function(e,t){var i=O(k(r.idleObjects));r.idleObjects.delete(i),r.liveObjects.add(i),i.spawn(e,t),r.collider.addObjectToGroup(i,Y.missiles)},this.drop=function(e){e.mesh.position.copy(w()),r.liveObjects.delete(e),r.idleObjects.add(e),r.collider.removeObjectFromGroup(e,Y.missiles)},this.update=function(){r.liveObjects.forEach((function(e){return e.update()}))},this.dispose=function(){r.liveObjects.forEach((function(e){return r.scene.remove(e.mesh)})),r.idleObjects.forEach((function(e){return r.scene.remove(e.mesh)})),null!==r.intervalId&&clearInterval(r.intervalId)},this.idleObjects=new Set,this.liveObjects=new Set;var c=new ee;p(50,(function(e){var t=new _(i,r.clock,n,c,r.drop);t.mesh.position.copy(w()),r.idleObjects.add(t)})),this.idleObjects.forEach((function(e){return r.scene.add(e.mesh)})),this.intervalId=null},ie=function e(t,i,o){var s=this;Object(a.a)(this,e),this.clock=i,this.dropObject=o,this.mesh=void 0,this.hitbox=void 0,this.speed=void 0,this.spawn=function(e){s.mesh.position.copy(e)},this.onCollide=function(e){s.drop()},this.update=function(){var e=s.clock.getDelta(),t=s.mesh.position.length(),i=s.speed*e;s.mesh.position.setLength(t-i),s.hitbox.update(),s.mesh.position.length()<=5&&s.drop()},this.drop=function(){s.dropObject(s)},this.mesh=t.buildMesh(),this.hitbox=new E(this.mesh,t.getHitboxGeometry()),this.speed=200},oe=function e(){var t=this;Object(a.a)(this,e),this.mesh=void 0,this.hitboxGeometry=void 0,this.buildMesh=function(){return t.mesh.clone()},this.getHitboxGeometry=function(){return t.hitboxGeometry.clone()};var i=new h.i(.15),o=new h.p({color:16773998,wireframe:!0}),s=new h.o(i,o);this.hitboxGeometry=new h.i(.3);var n=new h.p({color:14058496,wireframe:!0});this.mesh=new h.o(this.hitboxGeometry,n),this.mesh.add(s)},se=function e(t,i,o){var s=this;Object(a.a)(this,e),this.scene=t,this.collider=i,this.clock=o,this.idleObjects=void 0,this.liveObjects=void 0,this.spawn=function(e){var t=O(k(s.idleObjects));s.idleObjects.delete(t),s.liveObjects.add(t),t.spawn(e),s.collider.addObjectToGroup(t,Y.shots)},this.drop=function(e){e.mesh.position.copy(w()),s.liveObjects.delete(e),s.idleObjects.add(e),s.collider.removeObjectFromGroup(e,Y.shots)},this.update=function(){s.liveObjects.forEach((function(e){return e.update()}))},this.dispose=function(){s.liveObjects.forEach((function(e){return s.scene.remove(e.mesh)})),s.idleObjects.forEach((function(e){return s.scene.remove(e.mesh)}))},this.idleObjects=new Set,this.liveObjects=new Set;var n=new oe;p(20,(function(e){var t=new ie(n,s.clock,s.drop);t.mesh.position.copy(w()),s.idleObjects.add(t)})),this.idleObjects.forEach((function(e){return s.scene.add(e.mesh)}))},ne=new h.f(16777110),re=new h.f(6357504),ce=function e(){Object(a.a)(this,e),this.buildMesh=function(){var e=new h.p({color:ne,wireframe:!0,transparent:!0}),t=new h.o;new h.A(.1,6,6).vertices.forEach((function(i){var o=f(.25,1),s=new h.B(o),n=new h.o(s,e);n.position.copy(i),t.add(n)}));var i=f(0,2*Math.PI);return t.rotateOnAxis(m(),i),t}},ae=function e(t,i,o){var s=this;Object(a.a)(this,e),this.clock=i,this.dropObject=o,this.mesh=void 0,this.hitbox=void 0,this.epoch=void 0,this.fragmentSpeeds=void 0,this.spawn=function(e){s.mesh.position.copy(e),s.epoch=s.clock.getElapsed(),s.fragmentSpeeds=s.getRandomSpeeds(),s.mesh.children.forEach((function(e){e.position.setLength(.1)}))},this.onCollide=y,this.update=function(){var e=s.clock.getElapsed(),t=s.clock.getDelta(),i=e-s.epoch,o=z(G(i,0,1,1,0)),n=z(G(i,0,1,0,1)),r=new h.f(ne).lerp(re,n);s.mesh.children.forEach((function(e,i){var n=s.fragmentSpeeds[i],c=e,a=c.position.clone().setLength(t*n);c.position.add(a),c.material.opacity=o,c.material.color=r})),i>1&&s.drop()},this.getRandomSpeeds=function(){return s.mesh.children.map((function(e){return f(2.5,5)}))},this.drop=function(){s.dropObject(s)},this.mesh=t.buildMesh(),this.hitbox=new x,this.epoch=0,this.fragmentSpeeds=this.getRandomSpeeds()},he=function e(t,i){var o=this;Object(a.a)(this,e),this.scene=t,this.clock=i,this.idleObjects=void 0,this.liveObjects=void 0,this.spawn=function(e){var t=O(k(o.idleObjects));o.idleObjects.delete(t),o.liveObjects.add(t),t.spawn(e)},this.drop=function(e){e.mesh.position.copy(w()),o.liveObjects.delete(e),o.idleObjects.add(e)},this.update=function(){o.liveObjects.forEach((function(e){return e.update()}))},this.dispose=function(){o.liveObjects.forEach((function(e){return o.scene.remove(e.mesh)})),o.idleObjects.forEach((function(e){return o.scene.remove(e.mesh)}))},this.idleObjects=new Set,this.liveObjects=new Set;var s=new ce;p(50,(function(e){var t=new ae(s,o.clock,o.drop);t.mesh.position.copy(w()),o.idleObjects.add(t)})),this.idleObjects.forEach((function(e){return o.scene.add(e.mesh)}))},de=function e(){var t=this;Object(a.a)(this,e),this.renderer=void 0,this.clock=void 0,this.camera=void 0,this.controls=void 0,this.objectController=void 0,this.center=void 0,this.ship=void 0,this.scene=void 0,this.explosions=void 0,this.asteroids=void 0,this.missiles=void 0,this.shots=void 0,this.collider=void 0,this.start=function(){var e;t.controls.attachListeners(),window.addEventListener("resize",t.resize),t.asteroids.start(),t.missiles.start(),e="Game started!",console.log("%c".concat(e),"\n        background-color: #dadada;\n        color: #2b2bfa;\n        margin: 1em;\n        padding: 0.5em 1em;\n        border-radius: 9999px;\n        font-size: 14px;\n        text-align: center;\n        font-weight: 800;\n    "),t.animate()},this.dispose=function(){t.controls.dispose(),t.asteroids.dispose(),t.missiles.dispose(),t.explosions.dispose(),t.scene.dispose(),window.removeEventListener("resize",t.resize)},this.getDomElement=function(){return t.renderer.getDomElement()},this.resize=function(){t.renderer.resize(),t.camera.aspect=window.innerWidth/window.innerHeight,t.camera.updateProjectionMatrix()},this.animate=function(){requestAnimationFrame(t.animate),t.clock.tick(),t.objectController.update(),t.ship.update(),t.center.update(),t.missiles.update(),t.asteroids.update(),t.shots.update(),t.explosions.update(),t.collider.update(),t.camera.update(),t.renderer.render()},this.scene=new N,this.clock=new H,this.collider=new Q,this.collider.addRule(Y.asteroids,Y.ship),this.collider.addRule(Y.shots,Y.asteroids),this.collider.addRule(Y.shots,Y.center),this.collider.addRule(Y.shots,Y.missiles),this.collider.addRule(Y.missiles,Y.ship),this.explosions=new he(this.scene,this.clock),this.ship=new F,this.collider.addObjectToGroup(this.ship,Y.ship),this.camera=new T(this.ship.mesh),this.renderer=new J(this.scene.scene,this.camera),this.renderer.resize();var i=new S;this.center=new M(this.clock),this.collider.addObjectToGroup(this.center,Y.center),this.scene.add(this.ship.mesh,i.mesh,this.center.mesh),this.asteroids=new $(this.scene,this.collider,this.clock,this.explosions),this.missiles=new te(this.scene,this.ship.mesh,this.clock,this.collider,this.explosions),this.shots=new se(this.scene,this.collider,this.clock),this.controls=new R,this.objectController=new I(this.controls,this.ship.mesh,this.shots,this.clock)};var le=function(){var e=function(e){var t=Object(o.useRef)(null);return null===t.current&&(t.current=e()),t.current}((function(){return new de}));Object(o.useEffect)((function(){return e.start(),function(){return e.dispose()}}),[e]);return function(t){O(t).appendChild(e.getDomElement())}};i(24);function ue(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),i=t[0],n=t[1];return i?s.a.createElement(pe,null):s.a.createElement(ve,{startGame:function(){n(!0)}})}function pe(){var e=le();return(s.a.createElement("div",{className:"game-container",ref:e}))}function ve(e){return s.a.createElement("div",{className:"start-screen"},s.a.createElement("button",{onClick:e.startGame},"Start"))}i(25);r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(ue,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.40a6b085.chunk.js.map